<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"                    
                    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                    xmlns:pbeh="clr-namespace:Playnite.Behaviors;assembly=Playnite"
                    xmlns:pin="clr-namespace:Playnite.Input;assembly=Playnite" 
                    mc:Ignorable="d">

    <Style x:Key="ButtonGameStatusAction" BasedOn="{StaticResource {x:Type Button}}" TargetType="ButtonEx">
        <Setter Property="Background" Value="Transparent" />
        <Setter Property="FocusVisualStyle" Value="{x:Null}" />
        <Setter Property="SnapsToDevicePixels" Value="True" />
        <Setter Property="DockPanel.Dock" Value="Left" />
        <Setter Property="VerticalAlignment" Value="Center" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ButtonEx">
                    <Grid Width="58" Height="58">
                        <Border x:Name="mask" Background="Transparent" CornerRadius="58" />
                        <Grid>
                            <Grid.OpacityMask>
                                <VisualBrush Visual="{Binding ElementName=mask}" />
                            </Grid.OpacityMask>
                        </Grid>
                        <Image x:Name="WhiteIcon" Height="54" Margin="0,0,0,0" HorizontalAlignment="Center"
                                VerticalAlignment="Center" RenderOptions.BitmapScalingMode="Fant"
                                Source="{ThemeFile 'Images/PS5/ControlCenter/Button1.png'}" />
                        <Image x:Name="DarkIcon" Height="54" Margin="0,0,0,0" HorizontalAlignment="Center"
                                VerticalAlignment="Center" RenderOptions.BitmapScalingMode="Fant"
                                Source="{ThemeFile 'Images/PS5/ControlCenter/Button1On.png'}" Visibility="Collapsed" />
                        <Border x:Name="MainBorder" Margin="-6" BorderThickness="3" CornerRadius="58" Opacity="1"
                                Style="{DynamicResource PS5Border}" Tag="False" Visibility="Hidden">
                            <Border.CacheMode>
                                <BitmapCache EnableClearType="False" RenderAtScale="1" SnapsToDevicePixels="False" />
                            </Border.CacheMode>
                        </Border>
                    </Grid>

                    <ControlTemplate.Triggers>
                        <Trigger Property="IsFocused" Value="True">
                            <Setter TargetName="MainBorder" Property="Visibility" Value="Visible" />
                            <Setter TargetName="MainBorder" Property="Tag" Value="True" />
                            <Setter TargetName="mask" Property="Background" Value="#eeeeee" />
                            <Setter TargetName="WhiteIcon" Property="Visibility" Value="Collapsed" />
                            <Setter TargetName="DarkIcon" Property="Visibility" Value="Visible" />
                        </Trigger>

                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
        <Style.Triggers>
            <DataTrigger
                    Binding="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type Window}}, Path=IsActive}"
                    Value="True">
                <Setter Property="FocusManager.FocusedElement" Value="{Binding RelativeSource={RelativeSource Self}}" />
            </DataTrigger>
        </Style.Triggers>
    </Style>
    
    <Style TargetType="{x:Type GameStatus}">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type GameStatus}">
                    <Grid Background="Transparent" x:Name="PART_ViewHost" d:DesignWidth="{StaticResource DesignWidth}"
                            d:DesignHeight="{StaticResource DesignHeight}"
                            d:DataContext="{x:Static DesignMainViewModel.DesignSelectedGameIntance}"
                            KeyboardNavigation.DirectionalNavigation="Contained"
                            KeyboardNavigation.TabNavigation="Cycle" KeyboardNavigation.ControlTabNavigation="Cycle">
                        
                        <Grid x:Name="SplashBackground">
                            <Grid x:Name="GameBackground">
                                <Image VerticalAlignment="Top" HorizontalAlignment="Left" Stretch="Fill" 
                                       Source="{Binding Game.BackgroundImage, Converter={StaticResource ImageStringToImageConverter}}">
                                   
                                    <Image.Style>
                                        <Style TargetType="Image">
                                            <Setter Property="Opacity" Value="0"/>
                                            <Setter Property="RenderTransformOrigin" Value="0.5,0.5"/>
                                            <Setter Property="RenderTransform">
                                                <Setter.Value>
                                                    <ScaleTransform ScaleX="1" ScaleY="1" />
                                                </Setter.Value>
                                            </Setter>
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding ElementName=PART_ElemGameStatus, Path=Visibility}" Value="Visible">
                                                    <DataTrigger.EnterActions>
                                                        <BeginStoryboard x:Name="FadeIn">
                                                            <Storyboard FillBehavior="HoldEnd">
                                                                <DoubleAnimation Storyboard.TargetProperty="Opacity" From="0" To="1" BeginTime="0:0:0" Duration="0:0:0.5"/>
                                                                <DoubleAnimation
                                    Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleX)"
                                    From="1" To="1.2" Duration="0:0:30" />
                                                                <DoubleAnimation
                                    Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleY)"
                                    From="1" To="1.2" Duration="0:0:30" />
                                                            </Storyboard>
                                                            
                                                        </BeginStoryboard>
                                                    </DataTrigger.EnterActions>
                                                    <DataTrigger.ExitActions>
                                                        <RemoveStoryboard BeginStoryboardName="FadeIn"/>
                                                    </DataTrigger.ExitActions>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Image.Style>
                                </Image>
                                <Image VerticalAlignment="Top" HorizontalAlignment="Left" Stretch="Fill"
                                       Source="{ThemeFile 'Images/PS5/Background/PS5Overlay.png'}" RenderOptions.BitmapScalingMode="Fant">
                                    <Image.Style>
                                        <Style TargetType="Image">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Settings Fullscreen.EnableMainBackgroundImage}" Value="False">
                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{Settings Fullscreen.MainBackgroundImageDarkAmount}" Value="0.0">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding ElementName=PART_ElemGameStatus, Path=Visibility}" Value="Visible">
                                                    <DataTrigger.EnterActions>
                                                        <BeginStoryboard x:Name="FadeIn">
                                                            <Storyboard FillBehavior="HoldEnd">
                                                                <DoubleAnimation Storyboard.TargetProperty="Opacity" From="1" To="0" BeginTime="0:0:0" Duration="0:0:0.5"/>
                                                            </Storyboard>
                                                        </BeginStoryboard>
                                                    </DataTrigger.EnterActions>
                                                    <DataTrigger.ExitActions>
                                                        <RemoveStoryboard BeginStoryboardName="FadeIn"/>
                                                    </DataTrigger.ExitActions>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Image.Style>
                                </Image>
                                
                            </Grid>
                        </Grid>
                        <Grid x:Name="SplashLogo" VerticalAlignment="Top" HorizontalAlignment="Left">
                            <TextBlock x:Name="LogoPath" Tag="{Api Paths.ConfigurationPath}" Visibility="Collapsed">
                                <TextBlock.Style>
                                    <Style TargetType="TextBlock">
                                        <Setter Property="Text">
                                            <Setter.Value>
                                                <MultiBinding StringFormat="{}{0}{1}{2}{3}">
                                                    <Binding RelativeSource="{RelativeSource Self}" Path="Tag" />
                                                    <Binding Source="\ExtraMetadata\games\"/>
                                                    <Binding Path="Game.Id"/>
                                                    <Binding Source="\Logo.png" />
                                                </MultiBinding>
                                            </Setter.Value>
                                        </Setter>
                                    </Style>
                                </TextBlock.Style>
                            </TextBlock>
                            <Image VerticalAlignment="Top" HorizontalAlignment="Left" Margin="150,150,0,0" Width="600"
                                    Stretch="Uniform" Source="{Binding ElementName=LogoPath, Path=Text}"
                                    RenderOptions.BitmapScalingMode="Fant">
                                <Image.Effect>
                                    <DropShadowEffect BlurRadius="30" />
                                </Image.Effect>
                                <Image.Style>
                                    <Style TargetType="Image">
                                        <Setter Property="Opacity" Value="0" />
                                        <Setter Property="RenderTransformOrigin" Value="0.5,0.5" />
                                        <Setter Property="RenderTransform">
                                            <Setter.Value>
                                                <ScaleTransform ScaleX="1" ScaleY="1" />
                                            </Setter.Value>
                                        </Setter>
                                        <Style.Triggers>
                                            <DataTrigger
                                                    Binding="{Binding ElementName=PART_ElemGameStatus, Path=Visibility}"
                                                    Value="Visible">
                                                <DataTrigger.EnterActions>
                                                    <BeginStoryboard x:Name="FadeIn">
                                                        <Storyboard FillBehavior="HoldEnd">
                                                            <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                                                    From="0" To="0" BeginTime="0:0:0" Duration="0:0:1" />
                                                            <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                                                    From="0" To="1" BeginTime="0:0:1" Duration="0:0:0.5" />
                                                            <!--DoubleAnimation
                                    Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleX)"
                                    From="1" To="1.2" Duration="0:0:20" />
                                                            <DoubleAnimation
                                    Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleY)"
                                    From="1" To="1.2" Duration="0:0:20" /-->
                                                        </Storyboard>

                                                    </BeginStoryboard>
                                                </DataTrigger.EnterActions>
                                                <DataTrigger.ExitActions>
                                                    <RemoveStoryboard BeginStoryboardName="FadeIn" />
                                                </DataTrigger.ExitActions>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </Image.Style>
                            </Image>
                        </Grid>

                        <Image HorizontalAlignment="Left" VerticalAlignment="Top" RenderOptions.BitmapScalingMode="Fant"
                                Source="{ThemeFile 'Images/PS5/Background/PS5StatusOverlay.png'}" Stretch="Fill" />

                        <Image Name="PART_ImageCover" Visibility="Collapsed"
                               RenderOptions.BitmapScalingMode="Fant"
                               Height="350" HorizontalAlignment="Center"
                               Grid.Row="1" Grid.Column="1"/>


                        <TextBlock Name="PART_TextStatus" TextWrapping="Wrap" Visibility="Collapsed"
                                   Style="{StaticResource TextBlockBaseStyle}"
                                   HorizontalAlignment="Center" Margin="0,20,0,20"                                   
                                   Grid.Row="2" Grid.Column="1"/>

                        <StackPanel Orientation="Vertical" HorizontalAlignment="Center" VerticalAlignment="Bottom" Margin="0,0,0,50">
                            
                            

                            <DockPanel Name="PART_PanelActionButtons" VerticalAlignment="Top" Height="80"
                                    LastChildFill="False" Grid.Row="3" Grid.Column="1">
                                <ButtonEx x:Name="ClosePlaynite" Margin="40,0,0,0" DockPanel.Dock="Right"
                                        Command="{Binding Content.MainMenu.ExitCommand, ElementName=ThemeOptions_Command}"
                                        VerticalAlignment="Center">
                                    <ButtonEx.Style>
                                        <Style TargetType="ButtonEx">
                                            <Setter Property="Background" Value="Transparent" />
                                            <Setter Property="FocusVisualStyle" Value="{x:Null}" />
                                            <Setter Property="SnapsToDevicePixels" Value="True" />
                                            <Setter Property="VerticalAlignment" Value="Center" />
                                            <Setter Property="Template">
                                                <Setter.Value>
                                                    <ControlTemplate TargetType="ButtonEx">
                                                        <Grid Width="58" Height="58">
                                                            <Border x:Name="mask" Background="Transparent"
                                                                    CornerRadius="58" />
                                                            <Grid>
                                                                <Grid.OpacityMask>
                                                                    <VisualBrush Visual="{Binding ElementName=mask}" />
                                                                </Grid.OpacityMask>
                                                            </Grid>
                                                            <ContentControl x:Name="ThemeOptions_Command"
                                                                    Focusable="False" />
                                                            <Image x:Name="WhiteIcon" Height="48" Margin="0,0,0,0"
                                                                    HorizontalAlignment="Center"
                                                                    VerticalAlignment="Center"
                                                                    RenderOptions.BitmapScalingMode="Fant"
                                                                    Source="{ThemeFile 'Images/PS5/ControlCenter/ClosePlayniteOff.png'}" />
                                                            <Image x:Name="DarkIcon" Height="48" Margin="0,0,0,0"
                                                                    HorizontalAlignment="Center"
                                                                    VerticalAlignment="Center"
                                                                    RenderOptions.BitmapScalingMode="Fant"
                                                                    Source="{ThemeFile 'Images/PS5/ControlCenter/ClosePlayniteOn.png'}"
                                                                    Visibility="Collapsed" />
                                                            <Border x:Name="MainBorder" Margin="-6" BorderThickness="3"
                                                                    CornerRadius="58" Opacity="1"
                                                                    Style="{DynamicResource PS5Border}" Tag="False"
                                                                    Visibility="Hidden">
                                                                <Border.CacheMode>
                                                                    <BitmapCache EnableClearType="False"
                                                                            RenderAtScale="1"
                                                                            SnapsToDevicePixels="False" />
                                                                </Border.CacheMode>
                                                            </Border>
                                                        </Grid>

                                                        <ControlTemplate.Triggers>
                                                            <Trigger Property="IsFocused" Value="True">
                                                                <Setter TargetName="MainBorder" Property="Visibility"
                                                                        Value="Visible" />
                                                                <Setter TargetName="MainBorder" Property="Tag"
                                                                        Value="True" />
                                                                <Setter TargetName="mask" Property="Background"
                                                                        Value="#eeeeee" />
                                                                <Setter TargetName="WhiteIcon" Property="Visibility"
                                                                        Value="Collapsed" />
                                                                <Setter TargetName="DarkIcon" Property="Visibility"
                                                                        Value="Visible" />
                                                            </Trigger>

                                                        </ControlTemplate.Triggers>
                                                    </ControlTemplate>
                                                </Setter.Value>
                                            </Setter>
                                        </Style>
                                    </ButtonEx.Style>
                                </ButtonEx>

                                <!--CheckBoxEx x:Name="TrophiesPlaynite" Margin="40,0,0,0" DockPanel.Dock="Right"
                                        VerticalAlignment="Center">
                                    <CheckBoxEx.Style>
                                        <Style TargetType="CheckBoxEx">
                                            <Setter Property="Background" Value="Transparent" />
                                            <Setter Property="FocusVisualStyle" Value="{x:Null}" />
                                            <Setter Property="SnapsToDevicePixels" Value="True" />
                                            <Setter Property="VerticalAlignment" Value="Center" />
                                            <Setter Property="Template">
                                                <Setter.Value>
                                                    <ControlTemplate TargetType="CheckBoxEx">
                                                        <Grid Width="58" Height="58">
                                                            <Border x:Name="mask" Background="Transparent"
                                                                    CornerRadius="58" />
                                                            <Grid>
                                                                <Grid.OpacityMask>
                                                                    <VisualBrush Visual="{Binding ElementName=mask}" />
                                                                </Grid.OpacityMask>
                                                            </Grid>
                                                            <ContentControl x:Name="ThemeOptions_Command"
                                                                    Focusable="False" />
                                                            <Image x:Name="WhiteIcon" Height="48" Margin="0,0,0,0"
                                                                    HorizontalAlignment="Center"
                                                                    VerticalAlignment="Center"
                                                                    RenderOptions.BitmapScalingMode="Fant"
                                                                    Source="{ThemeFile 'Images/PS5/ControlCenter/TrophyOff.png'}" />
                                                            <Image x:Name="DarkIcon" Height="48" Margin="0,0,0,0"
                                                                    HorizontalAlignment="Center"
                                                                    VerticalAlignment="Center"
                                                                    RenderOptions.BitmapScalingMode="Fant"
                                                                    Source="{ThemeFile 'Images/PS5/ControlCenter/TrophyOn.png'}"
                                                                    Visibility="Collapsed" />
                                                            <Border x:Name="MainBorder" Margin="-6" BorderThickness="3"
                                                                    CornerRadius="58" Opacity="1"
                                                                    Style="{DynamicResource PS5Border}" Tag="False"
                                                                    Visibility="Hidden">
                                                                <Border.CacheMode>
                                                                    <BitmapCache EnableClearType="False"
                                                                            RenderAtScale="1"
                                                                            SnapsToDevicePixels="False" />
                                                                </Border.CacheMode>
                                                            </Border>
                                                        </Grid>

                                                        <ControlTemplate.Triggers>
                                                            <Trigger Property="IsFocused" Value="True">
                                                                <Setter TargetName="MainBorder" Property="Visibility"
                                                                        Value="Visible" />
                                                                <Setter TargetName="MainBorder" Property="Tag"
                                                                        Value="True" />
                                                                <Setter TargetName="mask" Property="Background"
                                                                        Value="#eeeeee" />
                                                                <Setter TargetName="WhiteIcon" Property="Visibility"
                                                                        Value="Collapsed" />
                                                                <Setter TargetName="DarkIcon" Property="Visibility"
                                                                        Value="Visible" />
                                                            </Trigger>

                                                            <Trigger Property="IsChecked" Value="True">
                                                                <Setter TargetName="mask" Property="Background"
                                                                        Value="#eeeeee" />
                                                                <Setter TargetName="WhiteIcon" Property="Visibility"
                                                                        Value="Collapsed" />
                                                                <Setter TargetName="DarkIcon" Property="Visibility"
                                                                        Value="Visible" />
                                                            </Trigger>

                                                        </ControlTemplate.Triggers>
                                                    </ControlTemplate>
                                                </Setter.Value>
                                            </Setter>
                                        </Style>
                                    </CheckBoxEx.Style>
                                </CheckBoxEx-->

                                <ButtonEx x:Name="SuspendPC" Margin="40,0,0,0" DockPanel.Dock="Right"
                                        Command="{Binding Content.MainMenu.SleepSystemCommand, ElementName=ThemeOptions_Command}"
                                        VerticalAlignment="Center">
                                    <ButtonEx.Style>
                                        <Style TargetType="ButtonEx">
                                            <Setter Property="Background" Value="Transparent" />
                                            <Setter Property="FocusVisualStyle" Value="{x:Null}" />
                                            <Setter Property="SnapsToDevicePixels" Value="True" />
                                            <Setter Property="VerticalAlignment" Value="Center" />
                                            <Setter Property="Template">
                                                <Setter.Value>
                                                    <ControlTemplate TargetType="ButtonEx">
                                                        <Grid Width="58" Height="58">
                                                            <Border x:Name="mask" Background="Transparent"
                                                                    CornerRadius="58" />
                                                            <Grid>
                                                                <Grid.OpacityMask>
                                                                    <VisualBrush Visual="{Binding ElementName=mask}" />
                                                                </Grid.OpacityMask>
                                                            </Grid>
                                                            <ContentControl x:Name="ThemeOptions_Command"
                                                                    Focusable="False" />
                                                            <Image x:Name="WhiteIcon" Height="48" Margin="0,-4,0,0"
                                                                    HorizontalAlignment="Center"
                                                                    VerticalAlignment="Center"
                                                                    RenderOptions.BitmapScalingMode="Fant"
                                                                    Source="{ThemeFile 'Images/PS5/ControlCenter/SuspendOff.png'}" />
                                                            <Image x:Name="DarkIcon" Height="48" Margin="0,-4,0,0"
                                                                    HorizontalAlignment="Center"
                                                                    VerticalAlignment="Center"
                                                                    RenderOptions.BitmapScalingMode="Fant"
                                                                    Source="{ThemeFile 'Images/PS5/ControlCenter/SuspendOn.png'}"
                                                                    Visibility="Collapsed" />
                                                            <Border x:Name="MainBorder" Margin="-6" BorderThickness="3"
                                                                    CornerRadius="58" Opacity="1"
                                                                    Style="{DynamicResource PS5Border}" Tag="False"
                                                                    Visibility="Hidden">
                                                                <Border.CacheMode>
                                                                    <BitmapCache EnableClearType="False"
                                                                            RenderAtScale="1"
                                                                            SnapsToDevicePixels="False" />
                                                                </Border.CacheMode>
                                                            </Border>
                                                        </Grid>

                                                        <ControlTemplate.Triggers>
                                                            <Trigger Property="IsFocused" Value="True">
                                                                <Setter TargetName="MainBorder" Property="Visibility"
                                                                        Value="Visible" />
                                                                <Setter TargetName="MainBorder" Property="Tag"
                                                                        Value="True" />
                                                                <Setter TargetName="mask" Property="Background"
                                                                        Value="#eeeeee" />
                                                                <Setter TargetName="WhiteIcon" Property="Visibility"
                                                                        Value="Collapsed" />
                                                                <Setter TargetName="DarkIcon" Property="Visibility"
                                                                        Value="Visible" />
                                                            </Trigger>

                                                        </ControlTemplate.Triggers>
                                                    </ControlTemplate>
                                                </Setter.Value>
                                            </Setter>
                                        </Style>
                                    </ButtonEx.Style>
                                </ButtonEx>

                                <ButtonEx x:Name="ReturnGame" Margin="40,0,0,0" DockPanel.Dock="Right"
                                        Visibility="{PluginStatus Plugin=NowPlaying_db4e7ade-57fb-426c-8392-60e2347a0209, Status=Installed, Converter={StaticResource BooleanToVisibilityConverter}, FallbackValue=Collapsed}"
                                        Content="{DynamicResource LOCNowPlayingBack}"
                                        Command="{PluginSettings Plugin=NowPlaying, Path=ReturnToGame}">
                                    <ButtonEx.Style>
                                        <Style TargetType="ButtonEx">
                                            <Setter Property="Background" Value="Transparent" />
                                            <Setter Property="FocusVisualStyle" Value="{x:Null}" />
                                            <Setter Property="SnapsToDevicePixels" Value="True" />
                                            <Setter Property="VerticalAlignment" Value="Center" />
                                            <Setter Property="Template">
                                                <Setter.Value>
                                                    <ControlTemplate TargetType="ButtonEx">
                                                        <Grid Width="58" Height="58">
                                                            <Border x:Name="mask" Background="Transparent"
                                                                    CornerRadius="58" />
                                                            <Grid>
                                                                <Grid.OpacityMask>
                                                                    <VisualBrush Visual="{Binding ElementName=mask}" />
                                                                </Grid.OpacityMask>
                                                            </Grid>
                                                            <Image x:Name="WhiteIcon" Height="54" Margin="0,0,0,0"
                                                                    HorizontalAlignment="Center"
                                                                    VerticalAlignment="Center"
                                                                    RenderOptions.BitmapScalingMode="Fant"
                                                                    Source="{ThemeFile 'Images/PS5/ControlCenter/ReturnToGameOff.png'}" />
                                                            <Image x:Name="DarkIcon" Height="54" Margin="0,0,0,0"
                                                                    HorizontalAlignment="Center"
                                                                    VerticalAlignment="Center"
                                                                    RenderOptions.BitmapScalingMode="Fant"
                                                                    Source="{ThemeFile 'Images/PS5/ControlCenter/ReturnToGameOn.png'}"
                                                                    Visibility="Collapsed" />
                                                            <Border x:Name="MainBorder" Margin="-6" BorderThickness="3"
                                                                    CornerRadius="58" Opacity="1"
                                                                    Style="{DynamicResource PS5Border}" Tag="False"
                                                                    Visibility="Hidden">
                                                                <Border.CacheMode>
                                                                    <BitmapCache EnableClearType="False"
                                                                            RenderAtScale="1"
                                                                            SnapsToDevicePixels="False" />
                                                                </Border.CacheMode>
                                                            </Border>
                                                        </Grid>

                                                        <ControlTemplate.Triggers>
                                                            <Trigger Property="IsFocused" Value="True">
                                                                <Setter TargetName="MainBorder" Property="Visibility"
                                                                        Value="Visible" />
                                                                <Setter TargetName="MainBorder" Property="Tag"
                                                                        Value="True" />
                                                                <Setter TargetName="mask" Property="Background"
                                                                        Value="#eeeeee" />
                                                                <Setter TargetName="WhiteIcon" Property="Visibility"
                                                                        Value="Collapsed" />
                                                                <Setter TargetName="DarkIcon" Property="Visibility"
                                                                        Value="Visible" />
                                                            </Trigger>

                                                        </ControlTemplate.Triggers>
                                                    </ControlTemplate>
                                                </Setter.Value>
                                            </Setter>
                                            
                                        </Style>
                                    </ButtonEx.Style>
                                </ButtonEx>

                                <ButtonEx Margin="40,0,0,0" x:Name="CloseGame" FocusVisualStyle="{x:Null}"
                                        DockPanel.Dock="Right"
                                        Visibility="{PluginStatus Plugin=NowPlaying_db4e7ade-57fb-426c-8392-60e2347a0209, Status=Installed, Converter={StaticResource BooleanToVisibilityConverter}, FallbackValue=Collapsed}"
                                        Content="{DynamicResource LOCNowPlayingExit}"
                                        Command="{PluginSettings Plugin=NowPlaying, Path=CloseGame}">
                                    <ButtonEx.Style>
                                        <Style TargetType="ButtonEx">
                                            <Setter Property="Background" Value="Transparent" />
                                            <Setter Property="FocusVisualStyle" Value="{x:Null}" />
                                            <Setter Property="SnapsToDevicePixels" Value="True" />
                                            <Setter Property="VerticalAlignment" Value="Center" />
                                            <Setter Property="Template">
                                                <Setter.Value>
                                                    <ControlTemplate TargetType="ButtonEx">
                                                        <Grid Width="58" Height="58">
                                                            <Border x:Name="mask" Background="Transparent"
                                                                    CornerRadius="58" />
                                                            <Grid>
                                                                <Grid.OpacityMask>
                                                                    <VisualBrush Visual="{Binding ElementName=mask}" />
                                                                </Grid.OpacityMask>
                                                            </Grid>
                                                            <Image x:Name="WhiteIcon" Height="54" Margin="0,0,0,0"
                                                                    HorizontalAlignment="Center"
                                                                    VerticalAlignment="Center"
                                                                    RenderOptions.BitmapScalingMode="Fant"
                                                                    Source="{ThemeFile 'Images/PS5/ControlCenter/CloseGameOff.png'}" />
                                                            <Image x:Name="DarkIcon" Height="54" Margin="0,0,0,0"
                                                                    HorizontalAlignment="Center"
                                                                    VerticalAlignment="Center"
                                                                    RenderOptions.BitmapScalingMode="Fant"
                                                                    Source="{ThemeFile 'Images/PS5/ControlCenter/CloseGameOn.png'}"
                                                                    Visibility="Collapsed" />
                                                            <Border x:Name="MainBorder" Margin="-6" BorderThickness="3"
                                                                    CornerRadius="58" Opacity="1"
                                                                    Style="{DynamicResource PS5Border}" Tag="False"
                                                                    Visibility="Hidden">
                                                                <Border.CacheMode>
                                                                    <BitmapCache EnableClearType="False"
                                                                            RenderAtScale="1"
                                                                            SnapsToDevicePixels="False" />
                                                                </Border.CacheMode>
                                                            </Border>
                                                        </Grid>

                                                        <ControlTemplate.Triggers>
                                                            <Trigger Property="IsFocused" Value="True">
                                                                <Setter TargetName="MainBorder" Property="Visibility"
                                                                        Value="Visible" />
                                                                <Setter TargetName="MainBorder" Property="Tag"
                                                                        Value="True" />
                                                                <Setter TargetName="mask" Property="Background"
                                                                        Value="#eeeeee" />
                                                                <Setter TargetName="WhiteIcon" Property="Visibility"
                                                                        Value="Collapsed" />
                                                                <Setter TargetName="DarkIcon" Property="Visibility"
                                                                        Value="Visible" />
                                                            </Trigger>

                                                        </ControlTemplate.Triggers>
                                                    </ControlTemplate>
                                                </Setter.Value>
                                            </Setter>
                                        </Style>
                                    </ButtonEx.Style>
                                </ButtonEx>

                                

                            </DockPanel>
                            <TextBlock HorizontalAlignment="Center" VerticalAlignment="Bottom" Margin="0,10,0,0"
                                    FontFamily="Segoe UI" FontSize="28" Foreground="White">
                                <TextBlock.Style>
                                    <Style TargetType="TextBlock">
                                        <Setter Property="Text" Value="{DynamicResource LOCHome}" />
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding ElementName=ReturnGame, Path=IsFocused}"
                                                    Value="True">
                                                <Setter Property="Text" Value="{DynamicResource LOCNowPlayingBack}" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding ElementName=CloseGame, Path=IsFocused}"
                                                    Value="True">
                                                <Setter Property="Text" Value="{DynamicResource LOCNowPlayingExit}" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding ElementName=ClosePC, Path=IsFocused}"
                                                    Value="True">
                                                <Setter Property="Text" Value="{DynamicResource LOCMenuShutdownSystem}" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding ElementName=SuspendPC, Path=IsFocused}"
                                                    Value="True">
                                                <Setter Property="Text" Value="{DynamicResource LOCMenuSuspendSystem}" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding ElementName=RestartPC, Path=IsFocused}"
                                                    Value="True">
                                                <Setter Property="Text" Value="{DynamicResource LOCMenuRestartSystem}" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding ElementName=ClosePlaynite, Path=IsFocused}"
                                                    Value="True">
                                                <Setter Property="Text" Value="{DynamicResource LOCPowerExit}" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </TextBlock.Style>
                            </TextBlock>
                        </StackPanel>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
</ResourceDictionary>